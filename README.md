# Как взломать электронный дневник школы

файл `scripts.py` поможет взломать электронный дневник школы, а именно:
- исправить все плохие оценки на *ОТЛИЧНО*
- удалить все замечания от учителей
- создать похвалу за любой из последних уроков

## Как установить

Необходимо положить файл `scripts.py` рядом с файлом `manage.py` на сервере

## Как пользоваться

1. #### Запустить Django shell из командной строки
```
python3 manage.py shell
```
2. #### Импрортировать функции из файла `scripts.py`
```
from scripts import fix_marks, remove_chastisements, create_commendation
```
3. #### Внести необходимые исправлния
    - ##### Исправление оценок
   Для исправления оценок необходимо в консоли отправить команду `fix_marks` с обязательным аргументом - Фмилия Имя ученика, например:
    ```
   fix_marks('Фролов Иван')
   ```
   - ##### Удаление замечаний
   Для удаления замечаний необходимо в консоли отправить команду `remove_chastisements` с обязательным аргументом - Фмилия Имя ученика, например:
    ```
   remove_chastisements('Фролов Иван')
   ```
   - ##### Создание похвалы
   Для создания похвалы необходимо в консоли отправить команду `create_commendation` с обязательными аргументами - Фмилия Имя ученика и название урока. В данной функции есть 2 необязательных аргумента - это год обучения и литера класса. Они необходимы в случае, если будет необходимость добавить похвалу ученику другого класса. По умолчанию год обучения 6, литера класса 'А'.

   Пример использования:
    ```
   create_commendation('Фролов Иван', 'Математика')
   ```
   или
   ```
   create_commendation('Дементьев Леонид', 'Музыка', 1, 'А')
   ```
   *ВНИМАНИЕ!* Похвала создается для последнего в расписании урока, отправленного аргументом в функцию. Если после внесения похвали урока по данному предмету больше не было - использовать скрипт к такому жепредмету не рекомендуется. Иначе похвала будет записана повторно, что может вызвать подозрение!
## Возможные ошибки
- в случаи ошибки в названии урока в функции `create_commendation` - в консоль вернется ответ *Название урока введено с ошибкой* 
- в случаи ошибки в имени ученика возможны 2 варианта ответа: `Schoolkid matching query does not exist` - если такого ученика не существует или `returned more than one Schoolkid` - если функция нашла в базе несколько учеников (обычно такое может произойти если ввести только имя, без фамилии или пустую строку)

## Как проверить
- Запустите сервер командой `python3 manage.py runserver`, если он еще не запущен
- Перейти в браузере на адрес дневника. Ссылка, если он запущен на [localhost](http://127.0.0.1:8000/)
- Перейти по ссылке ученики класса ученика, для которого вносились изменения
- Перейти по ссылке этого ученика
- Проверить внесенные изменения

## Для разработчиков
Если Вы хотите проверить работу скрипта на своем ПК - можете скачать репозиторий с Git по [ссылке](https://github.com/SrgMarkov/e-diary)

Для тестирования скрипта **обязательна** заполненная база данных учеников
